<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <form method="post" action="{{ url_for('login') }}">
        <table border="1">
            <tr>
                <th>ユーザー名</th>
                <th>パスワード</th>
                
            </tr>
            <tr>
                <td><input type="text" name="username"></td>
                <td><input type="text" name="pw"></td>
            </tr>
        </table>
        <br>
        <input type="submit" value="ログイン">
        </form>
       
        <p style="color: red;">{{ error }}</p>

        <h1>管理者画面</h1>
    <h1>{{login}}</h1>
    <form method="post" action="{{ url_for('register') }}">
    <table border="1">
        <tr>
            <th>ユーザー名</th>
            <th>パスワード</th>
            <th>事業所名</th>
        </tr>
        <tr>
            <td><input type="text" name="username"></td>
            <td><input type="text" name="pw"></td>
            <td><input type="text" name="office_name"></td>
        </tr>
    </table>
    <br>
    <!-- 全部入力出来てないのに新規登録ボタンを押してしまった時のアラート -->
    <!-- get_flashed_messages：flashで保存されたデータの取得 (with_categories = false) :カテゴリを設定した時にカテゴリも同時に取得 -->
    <!-- withはそのブロックの中で使える変数を定義（jinjaで変数を定義するときに） -->
    {% with messages = get_flashed_messages(with_categories = false) %}
       {% if messages %}
       <!-- 今回は["登録が完了しました", "すべての項目を入力してください"]となる -->
          {% for message in messages %}
            <div >{{ message }}</div>
         {% endfor %}
       {% endif %}
    {% endwith %}

    <input type="submit" value="新規登録">
    </form>
        
</body>
</html>